!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.deku=e()}}(function(){var e;return function t(e,n,r){function o(u,c){if(!n[u]){if(!e[u]){var a="function"==typeof _require&&_require;if(!c&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[u]={exports:{}};e[u][0].call(f.exports,function(t){var n=e[u][1][t];return o(n?n:t)},f,f.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof _require&&_require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(e,t){function n(e){return this instanceof n?(this.options={},this.sources={},void(this.element=e)):new n(e)}var r=e("component-emitter");t.exports=n,r(n.prototype),n.prototype.use=function(e){return e(this),this},n.prototype.option=function(e,t){return this.options[e]=t,this},n.prototype.set=function(e,t){return this.sources[e]=t,this.emit("source",e,t),this},n.prototype.mount=function(e){return this.element=e,this.emit("mount",e),this},n.prototype.unmount=function(){return this.element?(this.element=null,this.emit("unmount"),this):void 0}},{"component-emitter":8}],2:[function(e,t){t.exports={onBlur:"blur",onChange:"change",onClick:"click",onContextMenu:"contextmenu",onCopy:"copy",onCut:"cut",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onError:"error",onFocus:"focus",onInput:"input",onInvalid:"invalid",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPaste:"paste",onReset:"reset",onScroll:"scroll",onSubmit:"submit",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onWheel:"wheel"}},{}],3:[function(e,t,n){n.tree=n.scene=n.deku=e("./application"),"undefined"!=typeof document&&(n.render=e("./render")),n.renderString=e("./stringify")},{"./application":1,"./render":5,"./stringify":6}],4:[function(e,t){var n=e("component-type");t.exports=function(e){var t=n(e);return"null"===t||e===!1?"empty":"object"!==t?"text":"string"===n(e.type)?"element":"component"}},{"component-type":10}],5:[function(e,t){function n(e,t,n){function u(){at(),C(),e.off("unmount",b),e.off("mount",s),e.off("source",g)}function s(){j()}function b(){C(),ht=null}function g(e,t){gt[e]&&gt[e].forEach(function(e){e(t)})}function x(e){rt(e),ut(e),jt[e.id]={},wt[e.id]=e,tt(e),X("beforeMount",e,[e.context]),X("beforeRender",e,[e.context]);var t=E(e),n=A(e.id,"0",t);return e.virtualElement=t,e.nativeElement=n,kt.push(e.id),n}function w(e){var t=wt[e];if(t){X("beforeUnmount",t,[t.context,t.nativeElement]),N(e),pt(e);var n=xt[e].entities;delete n[e],delete xt[e],delete wt[e],delete jt[e]}}function E(e){var t=e.component,n="function"==typeof t?t:t.render;if(!n)throw new Error("Component needs a render function");var r=n(e.context,k(e));if(!r)throw new Error("Render function must return an element.");return r}function k(e){return function(t){et(e,t)}}function j(){_t.batching?mt||(mt=c(_)):vt||_()}function _(){return T(),vt?void(mt=c(_)):(vt=!0,yt?ht!==e.element?(yt=R(bt,ht,e.element,yt),ht=e.element,M(bt)):M(bt):(ht=e.element,yt=A(bt,"0",ht),t.children.length>0&&console.info("deku: The container element is not empty. These elements will be removed. Read more: http://cl.ly/b0Sr"),t===document.body&&console.warn("deku: Using document.body is allowed but it can cause some issues. Read more: http://cl.ly/b0SC"),V(t),t.appendChild(yt)),O(),void(vt=!1))}function O(){for(;kt.length>0;){var e=kt.shift(),t=wt[e];X("afterRender",t,[t.context,t.nativeElement]),X("afterMount",t,[t.context,t.nativeElement,k(t)])}}function T(){mt&&(c.cancel(mt),mt=0)}function S(e){var t=wt[e];if(ut(t),!nt(t))return tt(t),M(e);var n=t.virtualElement,r=t.pendingProps,o=t.pendingState,i=t.context.state,u=t.context.props;X("beforeUpdate",t,[t.context,r,o]),X("beforeRender",t,[t.context]),tt(t);var c=E(t);return c===n?M(e):(t.nativeElement=R(e,n,c,t.nativeElement),t.virtualElement=c,M(e),X("afterRender",t,[t.context,t.nativeElement]),void X("afterUpdate",t,[t.context,u,i,k(t)]))}function M(e){m(jt[e],function(e){S(e)})}function N(e){m(jt[e],function(e){w(e)})}function C(){T(),z(bt,"0",yt),yt=null}function A(e,t,n){switch(y(n)){case"text":return D(n);case"empty":return I(e,t);case"element":return P(e,t,n);case"component":return L(e,t,n)}}function D(e){return document.createTextNode(e)}function P(e,t,n){var r,o=n.attributes,i=n.type,u=n.children;return r=p.isElement(i)?document.createElementNS(p.namespace,i):document.createElement(i),m(o,function(n,o){W(e,t,r,o,n)}),m(u,function(n,o){var i=A(e,t+"."+o,n);i.parentNode||r.appendChild(i)}),r.__entity__=e,r.__path__=t,r}function I(e,t){var n=document.createElement("noscript");return n.__entity__=e,n.__path__=t,n}function L(e,t,n){var o=new r(n.type,v({children:n.children},n.attributes),e);return jt[e][t]=o.id,x(o)}function R(e,t,n,r){return U("0",e,t,n,r)}function U(e,t,n,r,o){var i=y(n),u=y(r);if(i!==u)return K(t,e,o,r);switch(u){case"text":return F(n,r,o);case"empty":return o;case"element":return $(e,t,n,r,o);case"component":return H(e,t,n,r,o)}}function F(e,t,n){return t!==e&&(n.data=t),n}function q(e,t,n,r,o){function i(e,t,n){return t&&t.attributes&&null!=t.attributes.key&&(e[t.attributes.key]={element:t,index:n},c=!0),e}var u=[],c=!1,a=Array.prototype.slice.apply(o.childNodes),s=h(n.children,i,{}),f=h(r.children,i,{}),l=v({},jt[t]);if(c)m(s,function(n,r){if(null==f[r]){var o=e+"."+n.index;z(t,o,a[n.index])}}),m(f,function(n,r){var o=s[r];if(null!=o){var i=e+"."+o.index;u[n.index]=U(i,t,o.element,n.element,a[o.index])}}),m(f,function(n,r){var o=s[r];if(null!=o&&o.index!==n.index){var i=e+"."+n.index,u=e+"."+o.index;m(l,function(e,n){u===n&&(delete jt[t][n],jt[t][i]=e)})}}),m(f,function(n,r){var o=e+"."+n.index;null==s[r]&&(u[n.index]=A(t,o,n.element))});else for(var p=Math.max(n.children.length,r.children.length),d=0;p>d;d++){var y=n.children[d],b=r.children[d];void 0!==b?u[d]=void 0!==y?U(e+"."+d,t,y,b,a[d]):A(t,e+"."+d,b):z(t,e+"."+d,a[d])}m(u,function(e,t){var n=o.childNodes[t];e&&e!==n&&(n?o.insertBefore(e,n):o.appendChild(e))})}function B(e,t,n,r,o){var i=t.attributes,u=e.attributes;m(i,function(e,t){!l[t]&&t in u&&u[t]===e||W(r,o,n,t,e)}),m(u,function(e,t){t in i||Y(r,o,n,t)})}function H(e,t,n,r,o){if(r.type!==n.type)return K(t,e,o,r);var i=jt[t][e];return i&&Z(i,v({children:r.children},r.attributes)),o}function $(e,t,n,r,o){return r.type!==n.type?K(t,e,o,r):(B(n,r,o,t,e),q(e,t,n,r,o),o)}function z(e,t,n){var r=jt[e],o=r[t],i=Et[e]||{},u=[];if(o){var c=wt[o];n=c.nativeElement,w(o),u.push(t)}else{if(!Q(n))return n&&n.parentNode.removeChild(n);m(r,function(e,n){(n===t||J(t,n))&&(w(e),u.push(n))}),m(i,function(n,r){(r===t||J(t,r))&&lt(e,r)})}m(u,function(t){delete jt[e][t]}),n.parentNode.removeChild(n)}function K(e,t,n,r){var o=n.parentNode,i=Array.prototype.indexOf.call(o.childNodes,n);z(e,t,n);var u=A(e,t,r),c=o.childNodes[i];return c?o.insertBefore(u,c):o.appendChild(u),"root"!==e&&"0"===t&&G(e,u),u}function G(e,t){var n=wt[e];"root"!==n.ownerId&&jt[n.ownerId][0]===e&&(wt[n.ownerId].nativeElement=t,G(n.ownerId,t))}function W(e,t,n,r,o){if(!o)return void Y(e,t,n,r);if(l[r])return void ft(e,t,l[r],o);switch(r){case"checked":case"disabled":case"selected":n[r]=!0;break;case"innerHTML":n.innerHTML=o;break;case"value":i(n,o);break;case p.isAttribute(r):n.setAttributeNS(p.namespace,r,o);break;default:n.setAttribute(r,o)}}function Y(e,t,n,r){if(l[r])return void lt(e,t,l[r]);switch(r){case"checked":case"disabled":case"selected":n[r]=!1;break;case"innerHTML":n.innerHTML="";case"value":i(n,null);break;default:n.removeAttribute(r)}}function J(e,t){return 0===t.indexOf(e+".")}function Q(e){return!(!e||!e.tagName)}function V(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function X(e,t,n){return"function"==typeof t.component[e]?t.component[e].apply(null,n):void 0}function Z(e,t){var n=wt[e];n.pendingProps=d({},t,n.component.defaultProps||{}),n.dirty=!0,j()}function et(e,t){e.pendingState=v(e.pendingState,t),e.dirty=!0,j()}function tt(e){e.context={state:e.pendingState,props:e.pendingProps,id:e.id},e.pendingState=v({},e.context.state),e.pendingProps=v({},e.context.props),e.dirty=!1,"function"==typeof e.component.validate&&e.component.validate(e.context)}function nt(e){if(!e.dirty)return!1;if(!e.component.shouldUpdate)return!0;var t=e.pendingProps,n=e.pendingState,r=e.component.shouldUpdate(e.context,t,n);return r}function rt(e){ot(e);var t=e.component;t.registered||(it(e),t.registered=!0)}function ot(e){var t=e.component,n=t.entities=t.entities||{};n[e.id]=e,xt[e.id]=t}function it(e){var t=xt[e.id],n=t.sources;if(!n){var r=t.entities,o=t.sourceToPropertyName={};t.sources=n=[];var i=t.propTypes;for(var u in i){var c=i[u];c&&c.source&&(n.push(c.source),o[c.source]=u)}n.forEach(function(e){function t(t){var n=o[e];for(var i in r){var u=r[i],c={};c[n]=t,Z(i,v(u.pendingProps,c))}}gt[e]=gt[e]||[],gt[e].push(t)})}}function ut(t){var n=t.component,r=n.sourceToPropertyName,o=n.sources;o.forEach(function(n){var o=r[n];null==t.pendingProps[o]&&(t.pendingProps[o]=e.sources[n])})}function ct(){m(l,function(e){Ot.addEventListener(e,st,!0)})}function at(){m(l,function(e){Ot.removeEventListener(e,st,!0)})}function st(e){for(var t=e.target,n=e.type;t;){var r=f.get(Et,[t.__entity__,t.__path__,n]);if(r&&(e.delegateTarget=t,r(e)===!1))break;t=t.parentNode}}function ft(e,t,n,r){f.set(Et,[e,t,n],function(t){var n=wt[e];return n?r.call(null,t,n.context,k(n)):r.call(null,t)})}function lt(e,t,n){var r=[e];t&&r.push(t),n&&r.push(n),f.del(Et,r)}function pt(e){f.del(Et,[e])}function dt(){return{entities:wt,handlers:Et,connections:gt,currentElement:ht,options:_t,app:e,container:t,children:jt}}var mt,vt,ht,yt,bt="root",gt={},xt={},wt={},Et={},kt=[],jt={};if(jt[bt]={},!a(t))throw new Error("Container element must be a DOM element");var _t=d(v({},e.options||{},n||{}),{batching:!0}),Ot=o(t);return ct(),e.on("unmount",b),e.on("mount",s),e.on("source",g),e.element&&_(),{remove:u,inspect:dt}}function r(e,t,n){this.id=s(),this.ownerId=n,this.component=e,this.propTypes=e.propTypes||{},this.context={},this.context.id=this.id,this.context.props=d(t||{},e.defaultProps||{}),this.context.state=this.component.initialState?this.component.initialState(this.context.props):{},this.pendingProps=v({},this.context.props),this.pendingState=v({},this.context.state),this.dirty=!1,this.virtualElement=null,this.nativeElement=null,this.displayName=e.name||"Component"}function o(e){for(;e.parentElement;){if("BODY"===e.tagName||!e.parentElement)return e;e=e.parentElement}return e}function i(e,t){if(e===document.activeElement&&u(e)){var n=e.selectionStart,r=e.selectionEnd;e.value=t,e.setSelectionRange(n,r)}else e.value=t}function u(e){return"INPUT"===e.tagName&&["text","search","password","tel","url"].indexOf(e.type)>-1}var c=e("component-raf"),a=e("is-dom"),s=e("get-uid"),f=e("object-path"),l=e("./events"),p=e("./svg"),d=e("object-defaults"),m=e("fast.js/forEach"),v=e("fast.js/object/assign"),h=e("fast.js/reduce"),y=e("./node-type");t.exports=n},{"./events":2,"./node-type":4,"./svg":7,"component-raf":9,"fast.js/forEach":13,"fast.js/object/assign":16,"fast.js/reduce":19,"get-uid":20,"is-dom":21,"object-defaults":24,"object-path":25}],6:[function(e,t){function n(e){var t="";for(var n in e){var i=e[n];"innerHTML"!==n&&o(i)&&(t+=r(n,e[n]))}return t}function r(e,t){return" "+e+'="'+t+'"'}function o(e){var t=c(e);switch(t){case"string":case"number":return!0;case"boolean":return e;default:return!1}}var i=e("object-defaults"),u=e("./node-type"),c=e("component-type");t.exports=function(e){function t(t,n,o){var u=t.propTypes||{},c=i(n||{},t.defaultProps||{}),a=t.initialState?t.initialState(c):{};c.children=o;for(var s in u){var f=u[s];f.source&&(c[s]=e.sources[f.source])}t.beforeMount&&t.beforeMount({props:c,state:a}),t.beforeRender&&t.beforeRender({props:c,state:a});var l=t.render({props:c,state:a});return r(l,"0")}function r(e,o){switch(u(e)){case"empty":return"<noscript />";case"text":return e;case"element":var i=e.children,c=e.attributes,a=e.type,s=c.innerHTML,f="<"+a+n(c)+">";if(s)f+=s;else for(var l=0,p=i.length;p>l;l++)f+=r(i[l],o+"."+l);return f+="</"+a+">";case"component":return t(e.type,e.attributes,e.children)}throw new Error("Invalid type")}if(!e.element)throw new Error("No element mounted");return r(e.element,"0")}},{"./node-type":4,"component-type":10,"object-defaults":24}],7:[function(e,t){t.exports={isElement:e("is-svg-element").isElement,isAttribute:e("is-svg-attribute"),namespace:"http://www.w3.org/2000/svg"}},{"is-svg-attribute":22,"is-svg-element":23}],8:[function(e,t){function n(e){return e?r(e):void 0}function r(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===t||r.fn===t){n.splice(o,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,t)}return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,n){function r(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-o)),r=setTimeout(e,n);return o=t,r}n=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||r;var o=(new Date).getTime(),i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.clearTimeout;n.cancel=function(e){i.call(window,e)}},{}],10:[function(e,t){var n=Object.prototype.toString;t.exports=function(e){switch(n.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}},{}],11:[function(e,t){"use strict";var n=e("../function/bindInternal3");t.exports=function(e,t,r){var o,i=e.length,u=void 0!==r?n(t,r):t;for(o=0;i>o;o++)u(e[o],o,e)}},{"../function/bindInternal3":14}],12:[function(e,t){"use strict";var n=e("../function/bindInternal4");t.exports=function(e,t,r,o){var i,u,c=e.length,a=void 0!==o?n(t,o):t;for(void 0===r?(i=1,u=e[0]):(i=0,u=r);c>i;i++)u=a(u,e[i],i,e);return u}},{"../function/bindInternal4":15}],13:[function(e,t){"use strict";var n=e("./array/forEach"),r=e("./object/forEach");t.exports=function(e,t,o){return e instanceof Array?n(e,t,o):r(e,t,o)}},{"./array/forEach":11,"./object/forEach":17}],14:[function(e,t){"use strict";t.exports=function(e,t){return function(n,r,o){return e.call(t,n,r,o)}}},{}],15:[function(e,t){"use strict";t.exports=function(e,t){return function(n,r,o,i){return e.call(t,n,r,o,i)}}},{}],16:[function(e,t){"use strict";t.exports=function(e){var t,n,r,o,i,u,c=arguments.length;for(n=1;c>n;n++)for(t=arguments[n],o=Object.keys(t),r=o.length,u=0;r>u;u++)i=o[u],e[i]=t[i];return e}},{}],17:[function(e,t){"use strict";var n=e("../function/bindInternal3");t.exports=function(e,t,r){var o,i,u=Object.keys(e),c=u.length,a=void 0!==r?n(t,r):t;for(i=0;c>i;i++)o=u[i],a(e[o],o,e)}},{"../function/bindInternal3":14}],18:[function(e,t){"use strict";var n=e("../function/bindInternal4");t.exports=function(e,t,r,o){var i,u,c,a=Object.keys(e),s=a.length,f=void 0!==o?n(t,o):t;for(void 0===r?(i=1,c=e[a[0]]):(i=0,c=r);s>i;i++)u=a[i],c=f(c,e[u],u,e);return c}},{"../function/bindInternal4":15}],19:[function(e,t){"use strict";var n=e("./array/reduce"),r=e("./object/reduce");t.exports=function(e,t,o,i){return e instanceof Array?n(e,t,o,i):r(e,t,o,i)}},{"./array/reduce":12,"./object/reduce":18}],20:[function(e,t){var n=Date.now()%1e9;t.exports=function(){return(1e9*Math.random()>>>0)+n++}},{}],21:[function(e,t){t.exports=function(e){return e&&"object"==typeof e?window&&"object"==typeof window.Node?e instanceof window.Node:"number"==typeof e.nodeType&&"string"==typeof e.nodeName:!1}},{}],22:[function(e,t,n){n.attributes={cx:!0,cy:!0,d:!0,dx:!0,dy:!0,fill:!0,fillOpacity:!0,fontFamily:!0,fontSize:!0,fx:!0,fy:!0,gradientTransform:!0,gradientUnits:!0,markerEnd:!0,markerMid:!0,markerStart:!0,offset:!0,opacity:!0,patternContentUnits:!0,patternUnits:!0,points:!0,preserveAspectRatio:!0,r:!0,rx:!0,ry:!0,spreadMethod:!0,stopColor:!0,stopOpacity:!0,stroke:!0,strokeDasharray:!0,strokeLinecap:!0,strokeOpacity:!0,strokeWidth:!0,textAnchor:!0,transform:!0,version:!0,viewBox:!0,x1:!0,x2:!0,x:!0,y1:!0,y2:!0,y:!0},t.exports=function(e){return e in n.attributes}},{}],23:[function(e,t,n){n.elements={animate:!0,circle:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,mask:!0,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,svg:!0,text:!0,tspan:!0},n.isElement=function(e){return e in n.elements}},{}],24:[function(e,t){"use strict";t.exports=function(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];n&&Object.getOwnPropertyNames(n).forEach(function(t){void 0===e[t]&&(e[t]=n[t])})}return e}},{}],25:[function(t,n){!function(t,r){"use strict";"object"==typeof n&&"object"==typeof n.exports?n.exports=r():"function"==typeof e&&e.amd?e([],r):t.objectPath=r()}(this,function(){"use strict";function e(e){if(!e)return!0;if(i(e)&&0===e.length)return!0;if(!r(e)){for(var t in e)if(l.call(e,t))return!1;return!0}return!1}function t(e){return f.call(e)}function n(e){return"number"==typeof e||"[object Number]"===t(e)}function r(e){return"string"==typeof e||"[object String]"===t(e)}function o(e){return"object"==typeof e&&"[object Object]"===t(e)}function i(e){return"object"==typeof e&&"number"==typeof e.length&&"[object Array]"===t(e)}function u(e){return"boolean"==typeof e||"[object Boolean]"===t(e)}function c(e){var t=parseInt(e);return t.toString()===e?t:e}function a(t,o,i,u){if(n(o)&&(o=[o]),e(o))return t;if(r(o))return a(t,o.split(".").map(c),i,u);var s=o[0];if(1===o.length){var f=t[s];return void 0!==f&&u||(t[s]=i),f}return void 0===t[s]&&(t[s]=n(o[1])?[]:{}),a(t[s],o.slice(1),i,u)}function s(t,o){if(n(o)&&(o=[o]),e(t))return void 0;if(e(o))return t;if(r(o))return s(t,o.split("."));var u=c(o[0]),a=t[u];if(1===o.length)void 0!==a&&(i(t)?t.splice(u,1):delete t[u]);else if(void 0!==t[u])return s(t[u],o.slice(1));return t}var f=Object.prototype.toString,l=Object.prototype.hasOwnProperty,p=function(e){return Object.keys(p).reduce(function(t,n){return"function"==typeof p[n]&&(t[n]=p[n].bind(p,e)),t},{})};return p.has=function(t,u){if(e(t))return!1;if(n(u)?u=[u]:r(u)&&(u=u.split(".")),e(u)||0===u.length)return!1;for(var c=0;c<u.length;c++){var a=u[c];if(!o(t)&&!i(t)||!l.call(t,a))return!1;t=t[a]}return!0},p.ensureExists=function(e,t,n){return a(e,t,n,!0)},p.set=function(e,t,n,r){return a(e,t,n,r)},p.insert=function(e,t,n,r){var o=p.get(e,t);r=~~r,i(o)||(o=[],p.set(e,t,o)),o.splice(r,0,n)},p.empty=function(t,c){if(e(c))return t;if(e(t))return void 0;var a,s;if(!(a=p.get(t,c)))return t;if(r(a))return p.set(t,c,"");if(u(a))return p.set(t,c,!1);if(n(a))return p.set(t,c,0);if(i(a))a.length=0;else{if(!o(a))return p.set(t,c,null);for(s in a)l.call(a,s)&&delete a[s]}},p.push=function(e,t){var n=p.get(e,t);i(n)||(n=[],p.set(e,t,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},p.coalesce=function(e,t,n){for(var r,o=0,i=t.length;i>o;o++)if(void 0!==(r=p.get(e,t[o])))return r;return n},p.get=function(t,o,i){if(n(o)&&(o=[o]),e(o))return t;if(e(t))return i;if(r(o))return p.get(t,o.split("."),i);var u=c(o[0]);return 1===o.length?void 0===t[u]?i:t[u]:p.get(t[u],o.slice(1),i)},p.del=function(e,t){return s(e,t)},p})},{}]},{},[3])(3)});
